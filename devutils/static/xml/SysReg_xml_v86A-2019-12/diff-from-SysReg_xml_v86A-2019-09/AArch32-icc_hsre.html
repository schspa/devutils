<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/><title>ICC_HSRE</title><link href="insn.css" rel="stylesheet" type="text/css"/></head><body><div align="center" class="htmldiff_header"><table><tbody><tr><td class="old">(old) </td><td class="explain">htmldiff from-</td><td class="new">(new) </td></tr></tbody></table></div><table align="center"><tr><td><div class="topbar"><a href="AArch32-regindex.html">AArch32 Registers</a></div></td><td><div class="topbar"><a href="AArch64-regindex.html">AArch64 Registers</a></div></td><td><div class="topbar"><a href="AArch32-sysindex.html">AArch32 Instructions</a></div></td><td><div class="topbar"><a href="AArch64-sysindex.html">AArch64 Instructions</a></div></td><td><div class="topbar"><a href="enc_index.html">Index by Encoding</a></div></td><td><div class="topbar"><a href="ext_alpha_index.html">External Registers</a></div></td><td><div class="topbar"><a href="ext_enc_index.html">External Registers by Offset</a></div></td><td><div class="topbar"><a href="func_index.html">Registers by Functional Group</a></div></td><td><div class="topbar"><a href="notice.html">Proprietary Notice</a></div></td></tr></table><hr/><h1 class="register-section">ICC_HSRE, Interrupt Controller Hyp System Register Enable register</h1><p>The ICC_HSRE characteristics are:</p><h2>Purpose</h2><p>Controls whether the System register interface or the memory-mapped interface to the GIC CPU interface is used for EL2.</p><h2>Configuration</h2><p>AArch32 System register ICC_HSRE bits [31:0]
            
                are architecturally mapped to
              AArch64 System register <a href="AArch64-icc_sre_el2.html">ICC_SRE_EL2[31:0]
            </a>.
          </p><p><ins>This</ins><del>Some</del> <del>or all RW fields of this </del>register <ins>is</ins><del>have</del> <ins>present</ins><del>defined</del> <del>reset values.
                
        These apply
      
                  </del>only<ins>
    when</ins> <ins>AArch32</ins><del>if</del> <ins>is</ins><del>the</del> <ins>supported</ins><del>PE</del> <ins>at</ins><del>resets</del> <ins>any</ins><del>into</del> <del>an </del>Exception <ins>level.
      
    </ins><del>level that is using AArch32.
                
                </del>Otherwise,<del>
                
                RW</del> <ins>direct</ins><del>fields</del> <ins>accesses</ins><del>in</del> <del>this register reset </del>to <ins>ICC_HSRE are</ins><del>architecturally</del> <span class="arm-defined-word">UNKNOWN</span><ins>.</ins><del>values.</del></p><h2>Attributes</h2><p>ICC_HSRE is a 32-bit register.</p><h2>Field descriptions</h2><p>The ICC_HSRE bit assignments are:</p><table class="regdiagram"><thead><tr><td>31</td><td>30</td><td>29</td><td>28</td><td>27</td><td>26</td><td>25</td><td>24</td><td>23</td><td>22</td><td>21</td><td>20</td><td>19</td><td>18</td><td>17</td><td>16</td><td>15</td><td>14</td><td>13</td><td>12</td><td>11</td><td>10</td><td>9</td><td>8</td><td>7</td><td>6</td><td>5</td><td>4</td><td>3</td><td>2</td><td>1</td><td>0</td></tr></thead><tbody><tr class="firstrow"><td class="lr" colspan="28"><a href="#0_31">RES0</a></td><td class="lr" colspan="1"><a href="#Enable_3">Enable</a></td><td class="lr" colspan="1"><a href="#DIB_2">DIB</a></td><td class="lr" colspan="1"><a href="#DFB_1">DFB</a></td><td class="lr" colspan="1"><a href="#SRE_0">SRE</a></td></tr></tbody></table><div class="text_before_fields"></div><h4 id="0_31">
                Bits [31:4]
              </h4><p>Reserved, <span class="arm-defined-word">RES0</span>.</p><h4 id="Enable_3">Enable, bit [3]
              </h4><p>Enable. Enables lower Exception level access to <a href="AArch32-icc_sre.html">ICC_SRE</a>.</p><table class="valuetable"><tr><th>Enable</th><th>Meaning</th></tr><tr><td class="bitfield">0b0</td><td><p>Non-secure EL1 accesses to <a href="AArch32-icc_sre.html">ICC_SRE</a> trap to EL2.</p></td></tr><tr><td class="bitfield">0b1</td><td><p>Non-secure EL1 accesses to <a href="AArch32-icc_sre.html">ICC_SRE</a> do not trap to EL2.</p></td></tr></table><p>If ICC_HSRE.SRE is RAO/WI, an implementation is permitted to make the Enable bit RAO/WI.</p><p>If ICC_HSRE.SRE is 0, the Enable bit behaves as 1 for all purposes other than reading the value of the bit.</p><p>This field resets to an architecturally <span class="arm-defined-word">UNKNOWN</span> value.</p><h4 id="DIB_2">DIB, bit [2]
              </h4><p>Disable IRQ bypass.</p><table class="valuetable"><tr><th>DIB</th><th>Meaning</th></tr><tr><td class="bitfield">0b0</td><td><p>IRQ bypass enabled.</p></td></tr><tr><td class="bitfield">0b1</td><td><p>IRQ bypass disabled.</p></td></tr></table><p>If EL3 is implemented and <a href="ext-gicd_ctlr.html">GICD_CTLR</a>.DS is 0, this field is a read-only alias of <a href="AArch32-icc_msre.html">ICC_MSRE</a>.DIB.</p><p>If EL3 is implemented and <a href="ext-gicd_ctlr.html">GICD_CTLR</a>.DS is 1, this field is a read-write alias of <a href="AArch32-icc_msre.html">ICC_MSRE</a>.DIB.</p><p>In systems that do not support IRQ bypass, this bit is RAO/WI.</p><p>This field resets to <span class="binarynumber">0</span>.
</p><h4 id="DFB_1">DFB, bit [1]
              </h4><p>Disable FIQ bypass.</p><table class="valuetable"><tr><th>DFB</th><th>Meaning</th></tr><tr><td class="bitfield">0b0</td><td><p>FIQ bypass enabled.</p></td></tr><tr><td class="bitfield">0b1</td><td><p>FIQ bypass disabled.</p></td></tr></table><p>If EL3 is implemented and <a href="ext-gicd_ctlr.html">GICD_CTLR</a>.DS is 0, this field is a read-only alias of <a href="AArch32-icc_msre.html">ICC_MSRE</a>.DFB.</p><p>If EL3 is implemented and <a href="ext-gicd_ctlr.html">GICD_CTLR</a>.DS is 1, this field is a read-write alias of <a href="AArch32-icc_msre.html">ICC_MSRE</a>.DFB.</p><p>In systems that do not support FIQ bypass, this bit is RAO/WI.</p><p>This field resets to <span class="binarynumber">0</span>.
</p><h4 id="SRE_0">SRE, bit [0]
              </h4><p>System Register Enable.</p><table class="valuetable"><tr><th>SRE</th><th>Meaning</th></tr><tr><td class="bitfield">0b0</td><td><p>The memory-mapped interface must be used. Accesses at EL2 or below to any ICH_* System register, or any EL1 or EL2 ICC_* register other than <a href="AArch32-icc_sre.html">ICC_SRE</a> or ICC_HSRE, are <span class="arm-defined-word">UNDEFINED</span>.</p></td></tr><tr><td class="bitfield">0b1</td><td><p>The System register interface to the ICH_* registers and the EL1 and EL2 ICC_* registers is enabled for EL2.</p></td></tr></table><p>If software changes this bit from 1 to 0, the results are <span class="arm-defined-word">UNPREDICTABLE</span>.</p><p>If an implementation supports only a System register interface to the GIC CPU interface, this bit is RAO/WI.</p><p>If EL3 is implemented and using AArch64:</p><ul><li>When <a href="AArch64-icc_sre_el3.html">ICC_SRE_EL3</a>.SRE==0 this bit is RAZ/WI.
</li></ul><p>If EL3 is implemented using AArch32:</p><ul><li>When <a href="AArch32-icc_msre.html">ICC_MSRE</a>.SRE==0 this bit is RAZ/WI.
</li></ul><p>This field resets to <span class="binarynumber">0</span>.
</p><div class="text_after_fields"></div><div class="access_mechanisms"><h2>Accessing the ICC_HSRE</h2><p>The GIC architecture permits, but does not require, that registers can be shared between memory-mapped registers and the equivalent System registers. This means that if the memory-mapped registers have been accessed while ICC_HSRE.SRE==0, then the System registers might be modified. Therefore, software must only rely on the reset values of the System registers if there has been no use of the GIC functionality while the memory-mapped registers are in use. Otherwise, the System register values must be treated as <span class="arm-defined-word">UNKNOWN</span>.</p><p>Accesses to this register use the following encodings:</p><h4 class="assembler">MRC{&lt;c>}{&lt;q>} &lt;coproc>, {#}&lt;opc1>, &lt;Rt>, &lt;CRn>, &lt;CRm>{, {#}&lt;opc2>}</h4><table class="access_instructions"><tr><th>coproc</th><th>opc1</th><th>CRn</th><th>CRm</th><th>opc2</th></tr><tr><td>0b1111</td><td>0b100</td><td>0b1100</td><td>0b1001</td><td>0b101</td></tr></table><p class="pseudocode">
if PSTATE.EL == EL0 then
    UNDEFINED;
elsif PSTATE.EL == EL1 then
    if EL2Enabled() &amp;&amp; !ELUsingAArch32(EL2) &amp;&amp; HSTR_EL2.T12 == '1' then
        AArch64.AArch32SystemAccessTrap(EL2, 0x03);
    elsif EL2Enabled() &amp;&amp; ELUsingAArch32(EL2) &amp;&amp; HSTR.T12 == '1' then
        AArch32.TakeHypTrapException(0x03);
    else
        UNDEFINED;
elsif PSTATE.EL == EL2 then
    if HaveEL(EL3) &amp;&amp; !ELUsingAArch32(EL3) &amp;&amp; ICC_SRE_EL3.Enable == '0' then
        AArch64.AArch32SystemAccessTrap(EL3, 0x03);
    elsif ICC_MSRE.Enable == '0' then
        UNDEFINED;
    else
        return ICC_HSRE;
elsif PSTATE.EL == EL3 then
    if !EL2Enabled() then
        UNDEFINED;
    else
        return ICC_HSRE;
              </p><h4 class="assembler">MCR{&lt;c>}{&lt;q>} &lt;coproc>, {#}&lt;opc1>, &lt;Rt>, &lt;CRn>, &lt;CRm>{, {#}&lt;opc2>}</h4><table class="access_instructions"><tr><th>coproc</th><th>opc1</th><th>CRn</th><th>CRm</th><th>opc2</th></tr><tr><td>0b1111</td><td>0b100</td><td>0b1100</td><td>0b1001</td><td>0b101</td></tr></table><p class="pseudocode">
if PSTATE.EL == EL0 then
    UNDEFINED;
elsif PSTATE.EL == EL1 then
    if EL2Enabled() &amp;&amp; !ELUsingAArch32(EL2) &amp;&amp; HSTR_EL2.T12 == '1' then
        AArch64.AArch32SystemAccessTrap(EL2, 0x03);
    elsif EL2Enabled() &amp;&amp; ELUsingAArch32(EL2) &amp;&amp; HSTR.T12 == '1' then
        AArch32.TakeHypTrapException(0x03);
    else
        UNDEFINED;
elsif PSTATE.EL == EL2 then
    if HaveEL(EL3) &amp;&amp; !ELUsingAArch32(EL3) &amp;&amp; ICC_SRE_EL3.Enable == '0' then
        AArch64.AArch32SystemAccessTrap(EL3, 0x03);
    elsif ICC_MSRE.Enable == '0' then
        UNDEFINED;
    else
        ICC_HSRE = R[t];
elsif PSTATE.EL == EL3 then
    if !EL2Enabled() then
        UNDEFINED;
    else
        ICC_HSRE = R[t];
              </p></div><br/><br/><hr/><table align="center"><tr><td><div class="topbar"><a href="AArch32-regindex.html">AArch32 Registers</a></div></td><td><div class="topbar"><a href="AArch64-regindex.html">AArch64 Registers</a></div></td><td><div class="topbar"><a href="AArch32-sysindex.html">AArch32 Instructions</a></div></td><td><div class="topbar"><a href="AArch64-sysindex.html">AArch64 Instructions</a></div></td><td><div class="topbar"><a href="enc_index.html">Index by Encoding</a></div></td><td><div class="topbar"><a href="ext_alpha_index.html">External Registers</a></div></td><td><div class="topbar"><a href="ext_enc_index.html">External Registers by Offset</a></div></td><td><div class="topbar"><a href="func_index.html">Registers by Functional Group</a></div></td><td><div class="topbar"><a href="notice.html">Proprietary Notice</a></div></td></tr></table><p class="versions"><ins>13</ins><del>27</del>/<ins>12</ins><del>09</del>/2019 <ins>15</ins><del>18</del>:<ins>13</ins><del>48</del>; <ins>391b5248b29fb2f001ef74792eaacbd6fc72f211</ins><del>6134483bd14dc8c12a99c984cbfe3431cc1c9707</del></p><p class="copyconf">Copyright © 2010-2019 Arm Limited or its affiliates. All rights reserved. This document is Non-Confidential.</p><div align="center" class="htmldiff_header"><table><tbody><tr><td class="old">(old) </td><td class="explain">htmldiff from-</td><td class="new">(new) </td></tr></tbody></table></div></body></html>